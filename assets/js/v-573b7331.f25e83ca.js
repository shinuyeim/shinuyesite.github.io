"use strict";(self.webpackChunkafternoon_grocery_store=self.webpackChunkafternoon_grocery_store||[]).push([[1226],{3946:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-573b7331",path:"/blogs/MySql/20221128.html",title:"MySQL基本表的定义、删除与修改",lang:"zh-CN",frontmatter:{title:"MySQL基本表的定义、删除与修改",date:"2022-11-28T00:00:00.000Z",tags:["数据库","笔记"],categories:["MySQL"]},excerpt:"",headers:[{level:2,title:"定义基本表",slug:"定义基本表",children:[]},{level:2,title:"数据类型",slug:"数据类型",children:[]},{level:2,title:"删除基本表",slug:"删除基本表",children:[]},{level:2,title:"修改基本表",slug:"修改基本表",children:[]}],git:{createdTime:1669646737e3,updatedTime:1669646737e3,contributors:[{name:"shinuyeim",email:"shinuyemail@gmail.com",commits:1}]}}},4529:(n,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(6252);const e=(0,t.uE)('<hr><h2 id="定义基本表" tabindex="-1"><a class="header-anchor" href="#定义基本表" aria-hidden="true">#</a> 定义基本表</h2><p>在MySQL语言中，使用CREATE TABLE 语句定义基本表，其基本格式如下：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n\t<span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span><span class="token operator">&lt;</span>数据类型<span class="token operator">&gt;</span> <span class="token punctuation">[</span>列级完整性约束条件<span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t<span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span><span class="token operator">&lt;</span>数据类型<span class="token operator">&gt;</span> <span class="token punctuation">[</span>列级完整性约束条件<span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n\t<span class="token punctuation">[</span>表级完整性约束条件<span class="token punctuation">]</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>',4),p=(0,t._)("div",{class:"custom-container tip"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,t._)("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,t._)("circle",{cx:"12",cy:"12",r:"9"}),(0,t._)("path",{d:"M12 8h.01"}),(0,t._)("path",{d:"M11 12h1v4h1"})])]),(0,t._)("p",{class:"custom-container-title"},"TIP"),(0,t._)("blockquote",null,[(0,t._)("ul",null,[(0,t._)("li",null,"在创建数据表之前，应使用语句“USE<数据库>”指定操作在哪个数据库中进行，如果没有选择数据库，就会抛出 No database selected 的错误。默认的情况是，表被创建到当前的数据库中。若表已存在、没有当前数据库或者数据库不存在，则会出现错误。"),(0,t._)("li",null,[(0,t.Uk)("要创建的表的名称不区分大小写，不能使用SQL语言中的关键字，如"),(0,t._)("strong",null,"DROP"),(0,t.Uk)("、"),(0,t._)("strong",null,"ALTER"),(0,t.Uk)("、"),(0,t._)("strong",null,"INSERT"),(0,t.Uk)("等。")]),(0,t._)("li",null,"数据表中每个列（字段）的名称和数据类型，如果创建多个列，要用逗号隔开。")])])],-1),o=(0,t.uE)('<p>建立一个 <strong>学生表</strong> student</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student <span class="token punctuation">(</span>\n\tsno <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">9</span> <span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>  <span class="token comment">-- 列级完整性约束条件，sno是主码</span>\n\tsname <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">20</span> <span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>    <span class="token comment">-- sname 取唯一值</span>\n\tssex <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tsage <span class="token keyword">SMALLINT</span><span class="token punctuation">,</span>  \n\tsdept <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">20</span> <span class="token punctuation">)</span>    \n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>建立一个 <strong>课程表</strong> course</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> course <span class="token punctuation">(</span>\n\tcno <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>  <span class="token comment">-- 列级完整性约束条件，cno是主码</span>\n\tcname <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">40</span> <span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token comment">-- 列级完整性约束条件，cname 不能取空值</span>\n\tcpno <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tccredit <span class="token keyword">SMALLINT</span><span class="token punctuation">,</span>\n\t<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> cpno <span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> course <span class="token punctuation">(</span> cno <span class="token punctuation">)</span> \n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">-- 表级完整性约束条件，cpno是外码，被参照表是course，被参照列是cno </span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>建立 <strong>学生选课表</strong> sc</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> sc <span class="token punctuation">(</span>\n\tsno <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">9</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tcno <span class="token keyword">CHAR</span> <span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tgrade <span class="token keyword">SMALLINT</span><span class="token punctuation">,</span>\n\t<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> sno<span class="token punctuation">,</span> cno <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">-- 主码由两个属性构成，必须作为表级完整性进行定义</span>\n\t<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> sno <span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> student <span class="token punctuation">(</span> sno <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">-- 表级完整性约束条件，sno是外码，被参照表是student，被参照列是sno </span>\n    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> cno <span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> course <span class="token punctuation">(</span> cno <span class="token punctuation">)</span>  <span class="token comment">-- 表级完整性约束条件，cpno是外码，被参照表是course，被参照列是cno </span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>  \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr><h2 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型" aria-hidden="true">#</a> 数据类型</h2><p>常见的一些数据类型：</p><table><thead><tr><th style="text-align:center;">数据类型</th><th style="text-align:center;">含义</th><th style="text-align:center;">存储需求</th></tr></thead><tbody><tr><td style="text-align:center;">CHAR(n)</td><td style="text-align:center;">长度为 n 的定长字符串</td><td style="text-align:center;">n 个字节，1&lt;=n&lt;=255</td></tr><tr><td style="text-align:center;">VARCHAR(n)</td><td style="text-align:center;">最大长度为 n 的变长字符串</td><td style="text-align:center;">m+1 个字节，l&lt; = n和 1&lt;=n&lt;=255</td></tr><tr><td style="text-align:center;">INT (INTEGHR)</td><td style="text-align:center;">普通大小的整数</td><td style="text-align:center;">4 个字节</td></tr><tr><td style="text-align:center;">BIGINT</td><td style="text-align:center;">大整数</td><td style="text-align:center;">8 个字节</td></tr><tr><td style="text-align:center;">SMALLINT</td><td style="text-align:center;">小的整数</td><td style="text-align:center;">2 个字节</td></tr><tr><td style="text-align:center;">FLOAT</td><td style="text-align:center;">单精度浮点数</td><td style="text-align:center;">4 个字节</td></tr><tr><td style="text-align:center;">DOUBLE</td><td style="text-align:center;">双精度浮点数</td><td style="text-align:center;">8 个字节</td></tr><tr><td style="text-align:center;">DATE</td><td style="text-align:center;">YYYY-MM-DD</td><td style="text-align:center;">3 个字节</td></tr><tr><td style="text-align:center;">TIME</td><td style="text-align:center;">HH:MM:SS</td><td style="text-align:center;">3 个字节</td></tr><tr><td style="text-align:center;">BINARY(n)</td><td style="text-align:center;">固定长度二进制字符串</td><td style="text-align:center;">n 个字节</td></tr><tr><td style="text-align:center;">VARBINARY(n)</td><td style="text-align:center;">可变长度二进制字符串</td><td style="text-align:center;">n+1 个字节</td></tr></tbody></table><hr><h2 id="删除基本表" tabindex="-1"><a class="header-anchor" href="#删除基本表" aria-hidden="true">#</a> 删除基本表</h2><p>当某个基本表不再被需要时，可以使用 <strong>DROP TABLE</strong> 语句可以删除一个或多个数据表，语法格式如下：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> 表名<span class="token number">1</span> <span class="token punctuation">[</span> <span class="token punctuation">,</span>表名<span class="token number">2</span><span class="token punctuation">,</span> 表名<span class="token number">3</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',14),l=(0,t._)("div",{class:"custom-container tip"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,t._)("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,t._)("circle",{cx:"12",cy:"12",r:"9"}),(0,t._)("path",{d:"M12 8h.01"}),(0,t._)("path",{d:"M11 12h1v4h1"})])]),(0,t._)("p",{class:"custom-container-title"},"TIP"),(0,t._)("blockquote",null,[(0,t._)("ul",null,[(0,t._)("li",null,"表名1, 表名2, 表名3 ...表示要被删除的数据表的名称。DROP TABLE 可以同时删除多个表，只要将表名依次写在后面，相互之间用逗号隔开即可。"),(0,t._)("li",null,"IF EXISTS 用于在删除数据表之前判断该表是否存在。如果不加 IF EXISTS，当数据表不存在时 MySQL 将提示错误，中断 SQL 语句的执行；加上 IF EXISTS 后，当数据表不存在时 SQL 语句可以顺利执行，但是会发出警告（warning）。")])])],-1),c=(0,t.uE)('<hr><h2 id="修改基本表" tabindex="-1"><a class="header-anchor" href="#修改基本表" aria-hidden="true">#</a> 修改基本表</h2><p>在 MySQL 中可以使用 ALTER TABLE 语句来改变原有表的结构，例如增加或删减列、更改原有列类型、重新命名列或表等。其语法格式如下：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span> <span class="token punctuation">[</span>修改选项<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>其中修改选项的语法格式如下：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>{ \n<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span>\n<span class="token operator">|</span> CHANGE <span class="token keyword">COLUMN</span> <span class="token operator">&lt;</span>旧列名<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>新列名<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>新列类型<span class="token operator">&gt;</span>\n<span class="token operator">|</span> <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> <span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span> { <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> <span class="token operator">&lt;</span>默认值<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">DROP</span> <span class="token keyword">DEFAULT</span> }\n<span class="token operator">|</span> <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> <span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span>\n<span class="token operator">|</span> <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> <span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span>\n<span class="token operator">|</span> <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>新表名<span class="token operator">&gt;</span>\n<span class="token operator">|</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token operator">&lt;</span>字符集名<span class="token operator">&gt;</span>\n<span class="token operator">|</span> <span class="token keyword">COLLATE</span> <span class="token operator">&lt;</span>校对规则名<span class="token operator">&gt;</span> \n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>将 student 表中增加&quot;入学时间&quot;列，数据类型为日期型</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> s_entrance <span class="token keyword">DATE</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>将 student 表中年龄的数据类型改为整数</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> sage <span class="token keyword">INT</span><span class="token punctuation">;</span>   <span class="token comment"># 执行未成功</span>\n\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">MODIFY</span> sage <span class="token keyword">INT</span><span class="token punctuation">;</span>   <span class="token comment"># 执行成功</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>增加课程名称时必须取唯一值</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> course <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>cname<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>还有一些对基本表其他类型的修改，就不再一一列举了。</p>',13),r={},u=(0,a(3744).Z)(r,[["render",function(n,s){return(0,t.wg)(),(0,t.iD)(t.HY,null,[e,p,o,l,c],64)}]])}}]);